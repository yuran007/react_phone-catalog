(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(49).concat([function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a,n=c(25),r=c.n(n),s=c(6),i=c(3),o=c(23),l=c(13);!function(e){e[e.IDLE=0]="IDLE",e[e.LOADING=1]="LOADING",e[e.FAILED=2]="FAILED"}(a||(a={}));var u="https://mate-academy.github.io/react_phone-catalog/api/products";function d(e){return new Promise((function(t){setTimeout(t,e)}))}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:t};return c&&(a.body=JSON.stringify(c),a.headers={"Content-Type":"application/json; charset=UTF-8"}),d(300).then((function(){return fetch(u+e,a)})).then((function(e){return e.json()}))}var b,m=function(e){return j(e)},O={products:[],status:a.IDLE},h=Object(l.b)("products/fetch",(function(){return m(".json")})),f=Object(l.c)({name:"products",initialState:O,reducers:{},extraReducers:function(e){e.addCase(h.pending,(function(e){e.status=a.LOADING})).addCase(h.fulfilled,(function(e,t){e.status=a.IDLE,e.products=t.payload})).addCase(h.rejected,(function(e){e.status=a.FAILED}))}}),p=(f.actions,f.reducer),x={productDetails:null,status:a.IDLE},N=Object(l.b)("productDetails/fetch",(function(e){return m("/".concat(e,".json"))})),v=Object(l.c)({name:"productDetails",initialState:x,reducers:{},extraReducers:function(e){e.addCase(N.pending,(function(e){e.status=a.LOADING})).addCase(N.fulfilled,(function(e,t){e.status=a.IDLE,e.productDetails=t.payload})).addCase(N.rejected,(function(e){e.status=a.FAILED}))}}),P=(v.actions,v.reducer),g=c(12),I=c(11),C=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},y="CART_ITEMS",T={cartItems:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}(y)},D=Object(l.c)({name:"cartItems",initialState:T,reducers:{addToCart:function(e,t){e.cartItems=[].concat(Object(I.a)(e.cartItems),[t.payload]),C(y,e.cartItems)},removeFromCart:function(e,t){e.cartItems=e.cartItems.filter((function(e){return e.id!==t.payload})),C(y,e.cartItems)},plusProduct:function(e,t){e.cartItems=e.cartItems.map((function(e){return e.id===t.payload?Object(g.a)(Object(g.a)({},e),{},{quantity:e.quantity+1}):e})),C(y,e.cartItems)},minusProduct:function(e,t){e.cartItems=e.cartItems.map((function(e){return e.id===t.payload?Object(g.a)(Object(g.a)({},e),{},{quantity:e.quantity-1}):e})),C(y,e.cartItems)}}}),S=D.actions,L=S.addToCart,k=S.removeFromCart,E=S.plusProduct,A=S.minusProduct,_=D.reducer,w=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},B="FAVOURITE_ITEMS",M={favouriteItems:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}(B)},R=Object(l.c)({name:"favouriteItems",initialState:M,reducers:{addToFavourites:function(e,t){e.favouriteItems=[].concat(Object(I.a)(e.favouriteItems),[t.payload]),w(B,e.favouriteItems)},removeFromFavourites:function(e,t){e.favouriteItems=e.favouriteItems.filter((function(e){return e.id!==t.payload})),w(B,e.favouriteItems)}}}),F=R.actions,H=F.addToFavourites,q=F.removeFromFavourites,G=R.reducer,Y=Object(l.a)({reducer:{products:p,productDetails:P,cartItems:_,favouriteItems:G}}),X=c(1),V=function(){return Object(o.b)()},J=o.c;!function(e){e[e.TEXT=0]="TEXT",e[e.HEART=1]="HEART",e[e.CART=2]="CART"}(b||(b={}));var $=c.p+"static/media/logo.c9417692.svg",U=(c(49),c(0)),z=function(){return Object(U.jsx)(s.b,{to:"/home",className:"Logo",children:Object(U.jsx)("img",{src:$,alt:"Logo",width:40,height:24})})},W=c(31),Q=c(8),K=c.n(Q),Z=(c(52),["linkType","children"]),ee=function(e){var t=e.linkType,c=e.children,a=Object(W.a)(e,Z);return Object(U.jsx)(s.c,Object(g.a)(Object(g.a)({},a),{},{className:function(e){var c=e.isActive;return K()("PageLink",{PageLink_text:t===b.TEXT},{PageLink_heart:t===b.HEART},{PageLink_cart:t===b.CART},{PageLink_active:c})},children:c}))},te=(c(53),function(){return Object(U.jsx)("nav",{className:"Nav",children:Object(U.jsxs)("ul",{className:"Nav-List",children:[Object(U.jsx)("li",{className:"Nav-Item",children:Object(U.jsx)(ee,{to:"/",linkType:b.TEXT,children:"home"})}),Object(U.jsx)("li",{className:"Nav-Item",children:Object(U.jsx)(ee,{to:"/phones",linkType:b.TEXT,children:"phones"})}),Object(U.jsx)("li",{className:"Nav-Item",children:Object(U.jsx)(ee,{to:"/tablets",linkType:b.TEXT,children:"tablets"})}),Object(U.jsx)("li",{className:"Nav-Item",children:Object(U.jsx)(ee,{to:"/accessories",linkType:b.TEXT,children:"accessories"})})]})})}),ce=(c(54),function(e){var t=e.quantity;return Object(U.jsx)("div",{className:K()("Counter",{Counter_active:t>0}),children:t})}),ae=c(4);function ne(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(ae.a)(e,2),a=t[0],n=t[1];null===n?c.delete(a):Array.isArray(n)?(c.delete(a),n.forEach((function(e){c.append(a,e)}))):c.set(a,n)})),c.toString()}c(55);var re,se=function(){var e=Object(s.d)(),t=Object(ae.a)(e,2),c=t[0],a=t[1],n=c.get("query")||"",r=Object(X.useState)(n),o=Object(ae.a)(r,2),l=o[0],u=o[1],d=Object(i.o)(),j=Object(X.useMemo)((function(){return d.pathname.split("/").filter((function(e){return""!==e}))}),[d]);Object(X.useEffect)((function(){u(n)}),[j]);var b=Object(X.useCallback)(function(e,t){var c=0;return function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];window.clearTimeout(c),c=window.setTimeout((function(){e.apply(void 0,n)}),t)}}(a,600),[j]);return Object(U.jsxs)("div",{className:"Header-Search Search",children:[Object(U.jsx)("input",{className:K()("Search-Input",{"Search-Input_icon_search":""===l}),type:"text",placeholder:"Search in ".concat(j," ..."),value:l,onChange:function(e){var t=e.target.value;u(t),b(ne(c,{query:t||null,page:"1"}))}}),Object(U.jsx)("button",{className:K()("Search-ClearButton",{"Search-ClearButton_active":""!==l}),type:"button","data-cy":"searchDelete","aria-label":"clear",onClick:function(){u(""),a(ne(c,{query:null}))}})]})},ie=(c(56),["/phones","/tablets","/accessories","/favourites"]),oe=function(){var e=J((function(e){return e.cartItems})).cartItems,t=Object(X.useMemo)((function(){return e.reduce((function(e,t){return e+t.quantity}),0)}),[e]),c=J((function(e){return e.favouriteItems})).favouriteItems,a=Object(X.useMemo)((function(){return c.length}),[c]),n=Object(i.o)(),r=Object(X.useMemo)((function(){return"/cart"===n.pathname}),[n]),s=Object(X.useMemo)((function(){return ie.some((function(e){return e===n.pathname}))}),[n]);return Object(U.jsxs)("header",{className:"Page-Header Header",children:[Object(U.jsxs)("div",{className:"Header-Left",children:[Object(U.jsx)(z,{}),Object(U.jsx)(te,{})]}),Object(U.jsxs)("div",{className:"Header-Right",children:[s&&Object(U.jsx)(se,{}),!r&&Object(U.jsx)(ee,{to:"/favourites",linkType:b.HEART,children:Object(U.jsx)(ce,{quantity:a})}),Object(U.jsx)(ee,{to:"/cart",linkType:b.CART,children:Object(U.jsx)(ce,{quantity:t})})]})]})},le=(c(57),function(){return Object(U.jsx)("footer",{className:"Page-Footer Footer",children:Object(U.jsx)("div",{className:"Container",children:Object(U.jsxs)("div",{className:"Footer-Content",children:[Object(U.jsx)(z,{}),Object(U.jsx)("nav",{className:"Footer-Nav",children:Object(U.jsxs)("ul",{className:"Footer-List",children:[Object(U.jsx)("li",{children:Object(U.jsx)("a",{className:"Footer-Link",rel:"noreferrer",target:"_blank",href:"https://github.com/yuran007",children:"github"})}),Object(U.jsx)("li",{children:Object(U.jsx)("a",{className:"Footer-Link",rel:"noreferrer",target:"_blank",href:"https://github.com/yuran007",children:"contacts"})}),Object(U.jsx)("li",{children:Object(U.jsx)("a",{className:"Footer-Link",rel:"noreferrer",target:"_blank",href:"https://github.com/yuran007",children:"rights"})})]})}),Object(U.jsx)("button",{className:"Footer-Button",type:"button",onClick:function(){return window.scrollTo(0,0)},children:"Back\xa0to\xa0top"})]})})})}),ue=(c(58),function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(oe,{}),Object(U.jsx)("main",{className:"Page-Main",children:Object(U.jsx)("div",{className:"Container",children:Object(U.jsx)(i.b,{})})}),Object(U.jsx)(le,{})]})}),de=function(e){var t=e.price;return t-e.discount*(t/100)},je=(c(59),function(e){var t=e.product,c=V(),a=J((function(e){return e.cartItems})).cartItems,n=Object(X.useMemo)((function(){return a.some((function(e){return e.id===t.id}))}),[a]),r=J((function(e){return e.favouriteItems})).favouriteItems,i=Object(X.useMemo)((function(){return r.some((function(e){return e.id===t.id}))}),[r]),o=t.imageUrl,l=t.name,u=t.price,d=t.screen,j=t.capacity,b=t.ram,m=t.id,O=t.type,h=Object(X.useMemo)((function(){return de(t)}),[t]),f="/".concat(O,"s/").concat(m);return Object(U.jsxs)("article",{className:"ProductCard",children:[Object(U.jsx)("div",{className:"ProductCard-ImgContainer",children:Object(U.jsx)(s.b,{to:f,children:Object(U.jsx)("img",{className:"ProductCard-Img",src:o,alt:"ProductCard",width:208,height:208,loading:"eager",decoding:"async"})})}),Object(U.jsxs)("div",{className:"ProductCard-Content",children:[Object(U.jsx)(s.b,{to:f,children:Object(U.jsx)("h2",{className:"ProductCard-Title",children:l})}),Object(U.jsxs)("div",{className:"ProductCard-Prices",children:[Object(U.jsx)("span",{className:"ProductCard-DiscountPrice",children:"$".concat(h)}),h!==u&&Object(U.jsx)("span",{className:"ProductCard-Price",children:"$".concat(u)})]}),Object(U.jsx)("hr",{className:"ProductCard-Break"}),Object(U.jsxs)("div",{className:"ProductCard-Specs",children:[Object(U.jsxs)("div",{className:"ProductCard-Spec",children:[Object(U.jsx)("span",{className:"ProductCard-SpecText",children:"Screen"}),Object(U.jsx)("span",{className:"ProductCard-SpecValue",children:d})]}),Object(U.jsxs)("div",{className:"ProductCard-Spec",children:[Object(U.jsx)("span",{className:"ProductCard-SpecText",children:"Capacity"}),Object(U.jsx)("span",{className:"ProductCard-SpecValue",children:j})]}),Object(U.jsxs)("div",{className:"ProductCard-Spec",children:[Object(U.jsx)("span",{className:"ProductCard-SpecText",children:"RAM"}),Object(U.jsx)("span",{className:"ProductCard-SpecValue",children:b})]})]}),Object(U.jsxs)("div",{className:"ProductCard-Buttons",children:[Object(U.jsx)("button",{className:K()("ProductCard-Button","Button",{Button_in_cart:n}),type:"button",disabled:n,onClick:function(){return c(L({id:t.id,product:t,quantity:1}))},children:n?"Added to cart":"Add to cart"}),Object(U.jsx)("button",{className:K()("ProductCard-Icon Icon",{Icon_heart:!i,Icon_heart_in_favoutites:i}),type:"button","aria-label":"Heart",onClick:function(){c(i?q(t.id):H(t))}})]})]})]})}),be=(c(60),1152),me=function(e){var t=e.products,c=e.title,a=Object(X.useState)(0),n=Object(ae.a)(a,2),r=n[0],s=n[1],i=Object(X.useMemo)((function(){return Math.floor(-1152*(t.length/4-1))}),[t]),o=Object(X.useMemo)((function(){return 272*t.length+16*(t.length-1)}),[t]),l={width:"".concat(o,"px"),transform:"TranslateX(".concat(r,"px)")};return Object(U.jsxs)("div",{className:"ProductsSlider",children:[Object(U.jsxs)("div",{className:"ProductsSlider-Top",children:[Object(U.jsx)("h2",{className:"ProductsSlider-Title SectionTitle",children:c}),Object(U.jsx)("button",{className:"ProductsSlider-Icon Icon Icon_arrow Icon_arrow_left",type:"button","aria-label":"Arrow left",onClick:function(){s((function(e){return Math.min(e+be,0)}))},disabled:0===r}),Object(U.jsx)("button",{className:"ProductsSlider-Icon Icon Icon_arrow",type:"button","aria-label":"Arrow Right",onClick:function(){s((function(e){return Math.max(e-be,i)}))},disabled:r===i})]}),Object(U.jsx)("div",{className:"ProductsSlider-Window",children:Object(U.jsx)("div",{className:"ProductsSlider-Slides","data-cy":"cardsContainer",style:l,children:t.map((function(e){return Object(U.jsx)(je,{product:e},e.id)}))})})]})};!function(e){e.PHONE="phone",e.TABLET="tablet",e.ACCESSORY="accessory"}(re||(re={}));var Oe,he=c.p+"static/media/phones.e8ce0c8a.png",fe=c.p+"static/media/tablets.985d7169.png",pe=c.p+"static/media/accessories.ca41c40d.png",xe=function(e){switch(e){case re.PHONE:return{title:"Mobile phones",imgPath:he,linkPath:"/phone"};case re.TABLET:return{title:"Tablets",imgPath:fe,linkPath:"/tablets"};case re.ACCESSORY:return{title:"Accessories",imgPath:pe,linkPath:"/accessories"};default:return{title:"",imgPath:"",linkPath:""}}},Ne=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t)},ve=(c(61),function(e){var t=e.productType,c=J((function(e){return e.products})).products,a=xe(t),n=a.linkPath,r=a.imgPath,i=a.title,o=Object(X.useMemo)((function(){return function(e,t){return e.filter((function(e){return e.type===t})).length}(c,t)}),[c,t]),l=Ne(o,"model");return Object(U.jsxs)("article",{className:"ShopByCategory-Category Category",children:[Object(U.jsxs)(s.b,{to:n,className:"Category-Link",children:[Object(U.jsx)("div",{className:K()("Category-Container",{"Category-Container_mobile":t===re.PHONE,"Category-Container_tablet":t===re.TABLET,"Category-Container_accessory":t===re.ACCESSORY}),children:Object(U.jsx)("img",{className:"Category-Img",src:r,alt:i,width:368,height:368,loading:"lazy",decoding:"async"})}),Object(U.jsx)("h3",{className:"Category-Title",children:i})]}),Object(U.jsx)("div",{className:"Category-Total Total",children:l})]})}),Pe=(c(62),function(){return Object(U.jsxs)("div",{className:"ShopByCategory",children:[Object(U.jsx)("h2",{className:"ShopByCategory-Title SectionTitle",children:"Shop by category"}),Object(U.jsxs)("div",{className:"ShopByCategory-Content","data-cy":"categoryLinksContainer",children:[Object(U.jsx)(ve,{productType:re.PHONE}),Object(U.jsx)(ve,{productType:re.TABLET}),Object(U.jsx)(ve,{productType:re.ACCESSORY})]})]})}),ge=(c(63),function(e){var t=e.linkPath,c=e.imagePath;return Object(U.jsx)("li",{className:"Slide",children:Object(U.jsx)(s.b,{to:t,className:"Slide-Link",children:Object(U.jsx)("img",{className:"Slide-Image",src:c,height:400,width:1040,alt:"Slider banner",loading:"lazy",decoding:"async"})})})});!function(e){e.PHONE="/phones",e.TABLET="/tablets",e.ACCESSORY="/accessories"}(Oe||(Oe={}));var Ie,Ce=c.p+"static/media/banner-phones.b4eeda8b.png",ye=c.p+"static/media/banner-tablets.a962057c.png",Te=c.p+"static/media/banner-accessories.bdd2e0fc.png",De=[{linkPath:Oe.PHONE,imagePath:Ce},{linkPath:Oe.TABLET,imagePath:ye},{linkPath:Oe.ACCESSORY,imagePath:Te}],Se=(c(64),1040),Le=function(){var e=Object(X.useState)(0),t=Object(ae.a)(e,2),c=t[0],a=t[1],n=0===c,r=-2080===c,s=function(){a((function(e){return r?0:e-Se}))},i=function(e){return Math.abs(c/Se)===e};return Object(X.useEffect)((function(){var e=window.setInterval((function(){s()}),5e3);return function(){window.clearInterval(e)}}),[c]),Object(U.jsxs)("div",{className:"Slider",children:[Object(U.jsxs)("div",{className:"Slider-Content",children:[Object(U.jsx)("button",{className:"Slider-Icon Icon Icon_arrow Icon_arrow_left",type:"button","aria-label":"Arrow Left",onClick:function(){a((function(e){return n?-2080:e+Se}))}}),Object(U.jsx)("div",{className:"Slider-Window",children:Object(U.jsx)("ul",{className:"Slider-Slides",style:{transform:"TranslateX(".concat(c,"px)")},children:De.map((function(e){var t=e.linkPath,c=e.imagePath;return Object(U.jsx)(ge,{linkPath:t,imagePath:c},t)}))})}),Object(U.jsx)("button",{className:"Slider-Icon Icon Icon_arrow",type:"button","aria-label":"Arrow right",onClick:s})]}),Object(U.jsx)("ul",{className:"Slider-Dots",children:[0,1,2].map((function(e){return Object(U.jsx)("li",{className:K()("Slider-Dot",{"Slider-Dot_active":i(e)}),onClick:function(){a(-e*Se)}},e)}))})]})},ke=function(){var e=V(),t=J((function(e){return e.products})).products;Object(X.useEffect)((function(){e(h())}),[]);var c=Object(X.useMemo)((function(){return t.filter((function(e){return 0!==e.discount})).sort((function(e,t){return de(e)-de(t)}))}),[t]),a=Object(X.useMemo)((function(){return t.filter((function(e){return 0===e.discount})).sort((function(e,t){return e.price-t.price}))}),[t]);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("section",{className:"Page-Slider",children:Object(U.jsx)(Le,{})}),Object(U.jsx)("section",{className:"Page-HotPrice",children:Object(U.jsx)(me,{products:c,title:"Hot prices"})}),Object(U.jsx)("section",{className:"Page-ShopByCategory",children:Object(U.jsx)(Pe,{})}),Object(U.jsx)("section",{className:"Page-BrandNew",children:Object(U.jsx)(me,{products:a,title:"Brand new models"})})]})};!function(e){e.AGE="age",e.NAME="name",e.PRICE="price"}(Ie||(Ie={}));var Ee=c(7),Ae=(c(65),function(e){var t=e.options,c=e.label,a=e.searchParamName,n=Object(X.useState)(!1),r=Object(ae.a)(n,2),i=r[0],o=r[1],l=Object(s.d)(),u=Object(ae.a)(l,2),d=u[0],j=u[1],b=d.get(a)||t[0].label,m=function(e,t){var c;return null===(c=t.find((function(t){return t.value===e})))||void 0===c?void 0:c.label}(b,t)||b;return Object(X.useEffect)((function(){if(i){var e=function(){o(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}}),[i]),Object(U.jsxs)("div",{className:"DropDown",children:[Object(U.jsx)("span",{className:"DropDown-Label",children:c}),Object(U.jsxs)("button",{type:"button",className:K()("DropDown-Button",{"DropDown-Button_active":i}),onClick:function(){return o((function(e){return!e}))},children:[m,Object(U.jsx)("span",{className:K()("DropDown-Icon Icon Icon_arrow",{Icon_arrow_down:!i,Icon_arrow_up:i})})]}),Object(U.jsx)("ul",{className:K()("DropDown-List",{"DropDown-List_active":i}),children:t.map((function(e){return Object(U.jsx)("li",{children:Object(U.jsx)("button",{type:"button",className:"DropDown-Option",onClick:function(){return function(e){var t,c=(t={},Object(Ee.a)(t,a,e.value),Object(Ee.a)(t,"page","1"),t);j(ne(d,c)),o(!1)}(e)},children:e.label})},e.label)}))})]})}),_e=(c(66),[{label:"Newest",value:Ie.AGE},{label:"Alphabetically",value:Ie.NAME},{label:"Cheapest",value:Ie.PRICE}]),we=[{label:"All",value:"all"},{label:"16",value:"16"},{label:"8",value:"8"},{label:"4",value:"4"}],Be=function(){return Object(U.jsxs)("div",{className:"ProductListFilter",children:[Object(U.jsx)(Ae,{options:_e,label:"Sort by",searchParamName:"sort"}),Object(U.jsx)(Ae,{options:we,label:"Items on page",searchParamName:"perPage"})]})},Me=(c(67),function(e){var t=e.products;return Object(U.jsx)("div",{className:"ProductList","data-cy":"productList",children:t.map((function(e){return Object(U.jsx)(je,{product:e},e.id)}))})}),Re=(c(68),function(){return Object(U.jsx)("div",{className:"Loader","data-cy":"Loader",children:Object(U.jsx)("div",{className:"Loader__content"})})}),Fe=["children","params"],He=function(e){var t=e.children,c=e.params,a=Object(W.a)(e,Fe),n=Object(s.d)(),r=Object(ae.a)(n,1)[0];return Object(U.jsx)(s.b,Object(g.a)(Object(g.a)({to:{search:ne(r,c)}},a),{},{children:t}))};c(69);var qe=function(e){var t=e.total,c=e.perPage,a=e.currentPage,n=Object(X.useMemo)((function(){return Math.ceil(t/c)}),[t,c]),r=Object(X.useMemo)((function(){return function(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}(1,n)}),[n]);return Object(U.jsxs)("div",{className:"Pagination","data-cy":"pagination",children:[Object(U.jsx)("div",{className:K()("Icon","Icon_arrow","Icon_arrow_left",{Icon_arrow_disabled:1===a}),children:Object(U.jsx)(He,{className:"Pagination-Link","data-cy":"paginationLeft","aria-label":"pagination-left",params:{page:"".concat(a-1)}})}),Object(U.jsx)("ul",{className:"Pagination-List",children:r.map((function(e){return Object(U.jsx)("li",{className:K()("Pagination-Item",{"Pagination-Item_active":a===e}),children:Object(U.jsx)(He,{className:"Pagination-Link",params:{page:"".concat(e)},children:e})},e)}))}),Object(U.jsx)("div",{className:K()("Icon","Icon_arrow",{Icon_arrow_disabled:a===n}),children:Object(U.jsx)(He,{className:"Pagination-Link","data-cy":"paginationRight","aria-label":"pagination-right",params:{page:"".concat(a+1)}})})]})},Ge=(c(70),function(e){var t=e.productType,c=xe(t).title;return Object(U.jsx)("div",{className:"Page-NoResults NoResults",children:"".concat(c," not found")})}),Ye=(c(71),function(e){var t,c=e.productType,a=(t={},Object(Ee.a)(t,re.PHONE,"Mobile phones"),Object(Ee.a)(t,re.TABLET,"Tablets"),Object(Ee.a)(t,re.ACCESSORY,"Accessories"),t);return Object(U.jsx)("section",{className:"Page-NoResults NoResults",children:"Not found ".concat(a[c]," matching the query.")})}),Xe=function(e,t){return e.name.toLowerCase().includes(t.toLowerCase())},Ve=function(e,t){var c=Object(s.d)(),a=Object(ae.a)(c,1)[0].get("query")||"",n=function(e,t){return Object(X.useMemo)((function(){return e.filter((function(e){return e.type===t}))}),[e,t])}(e,t);return Object(X.useMemo)((function(){return a?n.filter((function(e){return Xe(e,a)})):n}),[n,a])},Je=function(e,t){var c=Object(s.d)(),a=Object(ae.a)(c,1)[0].get("sort")||"",n=Ve(e,t);return Object(X.useMemo)((function(){return a?Object(I.a)(n).sort((function(e,t){return function(e,t,c){switch(c){case Ie.AGE:return e.age-t.age;case Ie.PRICE:return de(e)-de(t);case Ie.NAME:return e.name.localeCompare(t.name);default:return 0}}(e,t,a)})):n}),[n,a])},$e=function(e,t){var c=Je(e,t),a=Object(s.d)(),n=Object(ae.a)(a,1)[0].get("perPage")||"";return Object(X.useMemo)((function(){return Number(n)||c.length}),[n,c])},Ue=(c(72),function(){var e=Object(i.o)(),t="",c=Object(X.useMemo)((function(){return e.pathname.split("/").filter((function(e){return""!==e})).map((function(e,c,a){return t+="/".concat(e),Object(U.jsx)("li",{className:"Breadcrumbs-Item",children:c!==a.length-1?Object(U.jsx)(s.b,{className:"Breadcrumbs-Link",to:t,children:e}):e},e)}))}),[e]);return Object(U.jsx)("div",{className:"Page-Breadcrumbs Breadcrumbs","data-cy":"breadCrumbs",children:Object(U.jsxs)("ul",{className:"Breadcrumbs-List",children:[Object(U.jsx)("li",{className:"Breadcrumbs-Item",children:Object(U.jsx)(s.b,{className:"Breadcrumbs-Icon Icon Icon_home",to:"/home"})},"homePath"),c.map((function(e){return e}))]})})}),ze=(c(73),function(e){var t=e.productType,c=V(),n=Object(s.d)(),r=Object(ae.a)(n,1)[0],i=r.get("query")||"",o=Number(r.get("page"))||1,l=J((function(e){return e.products})),u=l.products,d=l.status;Object(X.useEffect)((function(){c(h())}),[]);var j=Je(u,t),b=Object(X.useMemo)((function(){return j.length}),[j]),m=Object(X.useMemo)((function(){return 0===j.length}),[j]),O=Object(X.useMemo)((function(){return""===i}),[i]),f=$e(u,t),p=function(e,t){var c=Je(e,t),a=$e(e,t),n=Object(s.d)(),r=Object(ae.a)(n,1)[0],i=Number(r.get("page"))||1,o=Object(X.useMemo)((function(){return(i-1)*a}),[i,a]),l=Object(X.useMemo)((function(){var e=c.length;return Math.min(i*a,e)}),[i,a,c]);return Object(X.useMemo)((function(){return c.filter((function(e,t){return t>=o&&t<l}))}),[c,o,l])}(u,t),x=Ne(b,"model"),N=Ne(b,"result"),v=xe(t).title;return Object(U.jsxs)("section",{className:"Page-Products Products",children:[Object(U.jsx)(Ue,{}),Object(U.jsx)("h1",{className:"Products-Title SectionTitle",children:v}),Object(U.jsx)("div",{className:"Products-Total Total",children:d===a.IDLE&&(i?N:x)}),d===a.LOADING&&Object(U.jsx)(Re,{}),d===a.IDLE&&m&&(O?Object(U.jsx)(Ge,{productType:t}):Object(U.jsx)(Ye,{productType:t})),d===a.IDLE&&!m&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Be,{}),Object(U.jsx)(Me,{products:p}),b>=f&&Object(U.jsx)(qe,{total:b,perPage:f,currentPage:o})]})]})}),We=(c(74),function(){var e=Object(i.q)();return Object(U.jsxs)("button",{className:"Page-BackButton BackButton",type:"button",onClick:function(){return e(-1)},children:[Object(U.jsx)("span",{className:"BackButton-Icon Icon Icon_arrow Icon_arrow_left"}),"Back"]})}),Qe=(c(75),["#fcdbc1","#5f7170","#4c4c4c","#f0f0f0"]),Ke=[64,256,512],Ze=function(){var e=Object(X.useState)(0),t=Object(ae.a)(e,2),c=t[0],n=t[1],r=Object(X.useState)(0),s=Object(ae.a)(r,2),o=s[0],l=s[1],u=Object(X.useState)(0),d=Object(ae.a)(u,2),j=d[0],b=d[1],m=V(),O=J((function(e){return e.products})),f=O.products,p=O.status;Object(X.useEffect)((function(){m(h())}),[]);var x=J((function(e){return e.productDetails})),v=x.productDetails,P=x.status,g=Object(i.s)().productId;Object(X.useEffect)((function(){g&&m(N(g))}),[g]);var I=Object(X.useMemo)((function(){return f.find((function(e){return e.id===g}))}),[f,g]),C=Object(X.useMemo)((function(){return I?de(I):0}),[I]),y=Object(X.useMemo)((function(){return f.filter((function(e,t){return t>=4&&t<16}))}),[f]),T=J((function(e){return e.cartItems})).cartItems,D=Object(X.useMemo)((function(){return T.some((function(e){return e.id===g}))}),[T,g]),S=J((function(e){return e.favouriteItems})).favouriteItems,k=Object(X.useMemo)((function(){return S.some((function(e){return e.id===g}))}),[S,g]);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("section",{className:"Page-ProductDetail ProductDetail",children:[Object(U.jsx)(Ue,{}),Object(U.jsx)(We,{}),P===a.FAILED&&p===a.IDLE&&Object(U.jsx)("div",{className:"Page-NoResults NoResults",children:"Product was not found"}),(P===a.LOADING||p===a.LOADING)&&Object(U.jsx)(Re,{}),P===a.IDLE&&p===a.IDLE&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("h1",{className:"ProductDetail-Title SectionTitle",children:null===v||void 0===v?void 0:v.name}),Object(U.jsxs)("div",{className:"ProductDetail-Content",children:[Object(U.jsx)("aside",{className:"ProductDetail-ImagesContainer",children:Object(U.jsx)("ul",{className:"ProductDetail-ImgList",children:null===v||void 0===v?void 0:v.images.map((function(e,t){return Object(U.jsx)("li",{className:"ProductDetail-ListItem",children:Object(U.jsx)("button",{type:"button",className:K()("ProductDetail-ImgButton",{"ProductDetail-ImgButton_active":c===t}),onClick:function(){return n(t)},children:Object(U.jsx)("img",{className:"ProductDetail-ImgSmall",src:e,alt:"product small",width:"80",height:"80"})})},e)}))})}),Object(U.jsx)("img",{className:"ProductDetail-Img",src:null===v||void 0===v?void 0:v.images[c],alt:"product",width:"464"}),Object(U.jsxs)("div",{className:"ProductDetail-Right",children:[Object(U.jsxs)("div",{className:"ProductDetail-Colors",children:[Object(U.jsx)("span",{className:"ProductDetail-SelectLabel",children:"Available colors"}),Object(U.jsx)("ul",{className:"ProductDetail-SelectList",children:Qe.map((function(e,t){return Object(U.jsx)("li",{className:"ProductDetail-ColorItem",children:Object(U.jsx)("button",{className:K()("ProductDetail-ColorButton",{"ProductDetail-ColorButton_active":o===t}),type:"button",onClick:function(){return l(t)},children:Object(U.jsx)("span",{className:"ProductDetail-ColorCircle",style:{backgroundColor:e}})})},e)}))}),Object(U.jsx)("hr",{className:"ProductDetail-Break"})]}),Object(U.jsxs)("div",{className:"ProductDetail-Capacities",children:[Object(U.jsx)("span",{className:"ProductDetail-SelectLabel",children:"Select capacity"}),Object(U.jsx)("ul",{className:"ProductDetail-SelectList",children:Ke.map((function(e,t){return Object(U.jsx)("li",{className:"ProductDetail-CapacityItem",children:Object(U.jsx)("button",{className:K()("ProductDetail-CapacityButton",{"ProductDetail-CapacityButton_active":j===t}),type:"button",onClick:function(){return b(t)},children:"".concat(e," GB")})},e)}))}),Object(U.jsx)("hr",{className:"ProductDetail-Break"})]}),Object(U.jsxs)("div",{className:"ProductDetail-Prices",children:[Object(U.jsx)("span",{className:"ProductDetail-DiscountPrice",children:"$".concat(C)}),I&&C!==I.price&&Object(U.jsx)("span",{className:"ProductDetail-Price",children:"$".concat(I.price)})]}),Object(U.jsxs)("div",{className:"ProductDetail-Buttons",children:[Object(U.jsx)("button",{className:K()("ProductDetail-Button","Button",{Button_in_cart:D}),type:"button",disabled:D,onClick:function(){return m(L({id:I.id,product:I,quantity:1}))},children:D?"Added to cart":"Add to cart"}),Object(U.jsx)("button",{className:K()("ProductDetail-Icon Icon",{Icon_heart:!k,Icon_heart_in_favoutites:k}),type:"button","aria-label":"Heart",onClick:function(){m(g&&k?q(g):H(I))}})]}),Object(U.jsxs)("div",{className:"ProductDetail-Specs",children:[Object(U.jsxs)("div",{className:"ProductDetail-Spec",children:[Object(U.jsx)("span",{className:"ProductDetail-Label",children:"Screen"}),Object(U.jsx)("span",{className:"ProductDetail-Value",children:null===v||void 0===v?void 0:v.display.screenSize})]}),Object(U.jsxs)("div",{className:"ProductDetail-Spec",children:[Object(U.jsx)("span",{className:"ProductDetail-Label",children:"Resolution"}),Object(U.jsx)("span",{className:"ProductDetail-Value",children:null===v||void 0===v?void 0:v.display.screenResolution})]}),Object(U.jsxs)("div",{className:"ProductDetail-Spec",children:[Object(U.jsx)("span",{className:"ProductDetail-Label",children:"Processor"}),Object(U.jsx)("span",{className:"ProductDetail-Value",children:null===v||void 0===v?void 0:v.hardware.cpu})]}),Object(U.jsxs)("div",{className:"ProductDetail-Spec",children:[Object(U.jsx)("span",{className:"ProductDetail-Label",children:"RAM"}),Object(U.jsx)("span",{className:"ProductDetail-Value",children:null===v||void 0===v?void 0:v.storage.ram})]})]})]})]}),Object(U.jsxs)("div",{className:"ProductDetail-ContentBottom",children:[Object(U.jsxs)("div",{className:"ProductDetail-About","data-cy":"productDescription",children:[Object(U.jsxs)("div",{className:"ProductDetail-Info",children:[Object(U.jsx)("h2",{className:"ProductDetail-SubTitle",children:"About"}),Object(U.jsx)("hr",{className:"ProductDetail-Break"})]}),Object(U.jsx)("div",{className:"ProductDetail-AboutDescription",children:null===v||void 0===v?void 0:v.description})]}),Object(U.jsxs)("div",{className:"ProductDetail-Tech",children:[Object(U.jsxs)("div",{className:"ProductDetail-Info",children:[Object(U.jsx)("h2",{className:"ProductDetail-SubTitle",children:"Tech specs"}),Object(U.jsx)("hr",{className:"ProductDetail-Break"})]}),Object(U.jsxs)("div",{className:"ProductDetail-TechSpecs",children:[Object(U.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(U.jsx)("span",{className:"ProductDetail-TechLabel",children:"Screen"}),null===v||void 0===v?void 0:v.display.screenSize]}),Object(U.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(U.jsx)("span",{className:"ProductDetail-TechLabel",children:"Resolution"}),null===v||void 0===v?void 0:v.display.screenResolution]}),Object(U.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(U.jsx)("span",{className:"ProductDetail-TechLabel",children:"Processor"}),null===v||void 0===v?void 0:v.hardware.cpu]}),Object(U.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(U.jsx)("span",{className:"ProductDetail-TechLabel",children:"RAM"}),null===v||void 0===v?void 0:v.storage.ram]}),Object(U.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(U.jsx)("span",{className:"ProductDetail-TechLabel",children:"Built in memory"}),null===v||void 0===v?void 0:v.storage.flash]}),Object(U.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(U.jsx)("span",{className:"ProductDetail-TechLabel",children:"Camera"}),null===v||void 0===v?void 0:v.camera.primary]}),Object(U.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(U.jsx)("span",{className:"ProductDetail-TechLabel",children:"Battery standby time"}),null===v||void 0===v?void 0:v.battery.standbyTime]})]})]})]})]})]}),P===a.IDLE&&p===a.IDLE&&Object(U.jsx)("section",{className:"Page-HotPrice",children:Object(U.jsx)(me,{products:y,title:"You may also like"})})]})},et=(c(76),function(e){var t=e.cartItem,c=V(),a=t.id,n=t.product,r=t.quantity,i=n.type,o=n.id,l="/".concat(i,"s/").concat(o),u=Object(X.useMemo)((function(){return de(n)}),[n]);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"CartItem-Left",children:[Object(U.jsx)("button",{className:"CartItem-IconDelete Icon Icon_delete","data-cy":"cartDeleteButton",type:"button","aria-label":"delete button",onClick:function(){return c(k(a))}}),Object(U.jsx)(s.b,{className:"CartItem-LinkImage",to:l,children:Object(U.jsx)("img",{className:"CartItem-Image",src:n.imageUrl,width:66,height:66,alt:"product"})}),Object(U.jsx)(s.b,{className:"CartItem-LinkTitle",to:l,children:Object(U.jsx)("h2",{className:"CartItem-CartTitle",children:n.name})})]}),Object(U.jsxs)("div",{className:"CartItem-Right",children:[Object(U.jsxs)("div",{className:"CartItem-Counter",children:[Object(U.jsx)("button",{className:"CartItem-Icon Icon Icon_minus",type:"button","aria-label":"minus button",disabled:1===r,onClick:function(){return c(A(a))}}),Object(U.jsx)("span",{className:"CartItem-Total",children:r}),Object(U.jsx)("button",{className:"CartItem-Icon Icon Icon_plus",type:"button","aria-label":"plus button",onClick:function(){return c(E(a))}})]}),Object(U.jsx)("span",{className:"CartItem-Price",children:u!==n.price?"$".concat(u*r):"$".concat(n.price*r)})]})]})}),tt=(c(77),function(){var e=Object(X.useState)(!1),t=Object(ae.a)(e,2),c=t[0],a=t[1],n=J((function(e){return e.cartItems})).cartItems,r=Object(X.useMemo)((function(){return 0===n.length}),[n]),s=Object(X.useMemo)((function(){return n.reduce((function(e,t){return e+(t.product.discount>0?de(t.product):t.product.price)*t.quantity}),0)}),[n]),i=Object(X.useMemo)((function(){return n.reduce((function(e,t){return e+t.quantity}),0)}),[n]);return Object(U.jsxs)("section",{className:"Page-Cart Cart",children:[Object(U.jsx)(We,{}),Object(U.jsx)("h1",{className:"Cart-Title SectionTitle",children:"Cart"}),r&&"Your cart is empty",c&&"We are sorry, but this feature is not implemented yet",!c&&!r&&Object(U.jsxs)("div",{className:"Cart-Content",children:[Object(U.jsx)("ul",{className:"Cart-List",children:n.map((function(e){return Object(U.jsx)("li",{className:"Cart-CartItem CartItem",children:Object(U.jsx)(et,{cartItem:e})},e.id)}))}),Object(U.jsxs)("div",{className:"Cart-Totals",children:[Object(U.jsx)("span",{className:"Cart-TotalPrice",children:"$".concat(s)}),Object(U.jsx)("span",{className:"Cart-TotalQuantity","data-cy":"productQuantity",children:"Total for ".concat(i," items")}),Object(U.jsx)("hr",{className:"Cart-Break"}),Object(U.jsx)("button",{className:"Cart-Button Button",type:"button",onClick:function(){return a(!0)},children:"Checkout"})]})]})]})}),ct=(c(78),function(){var e=function(e){var t=Object(s.d)(),c=Object(ae.a)(t,1)[0].get("query")||"";return Object(X.useMemo)((function(){return c?e.filter((function(e){return Xe(e,c)})):e}),[e,c])}(J((function(e){return e.favouriteItems})).favouriteItems),t=Object(X.useMemo)((function(){return e.length}),[e]),c=Object(X.useMemo)((function(){return 0===e.length}),[e]),a=Ne(t,"model");return Object(U.jsxs)("section",{className:"Page-Favourites Favourites",children:[Object(U.jsx)(Ue,{}),Object(U.jsx)("h1",{className:"Favourites-Title SectionTitle",children:"Favourites"}),c?"Your favourites is empty":Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"Favourites-Total Total",children:a}),Object(U.jsx)(Me,{products:e})]})]})}),at=(c(79),function(){return Object(U.jsxs)("section",{className:"Page-Section NotFoundPage",children:[Object(U.jsx)("h1",{className:"NotFoundPage-Title SectionTitle",children:"Page not found"}),Object(U.jsx)(ee,{to:"/",linkType:b.TEXT,children:"home"})]})}),nt=function(){return Object(U.jsx)(o.a,{store:Y,children:Object(U.jsx)(s.a,{children:Object(U.jsx)(i.e,{children:Object(U.jsxs)(i.c,{path:"/",element:Object(U.jsx)(ue,{}),children:[Object(U.jsx)(i.c,{index:!0,element:Object(U.jsx)(ke,{})}),Object(U.jsx)(i.c,{path:"home",element:Object(U.jsx)(i.a,{to:"/",replace:!0})}),Object(U.jsxs)(i.c,{path:"phones",children:[Object(U.jsx)(i.c,{index:!0,element:Object(U.jsx)(ze,{productType:re.PHONE})}),Object(U.jsx)(i.c,{path:":productId",element:Object(U.jsx)(Ze,{})})]}),Object(U.jsxs)(i.c,{path:"tablets",children:[Object(U.jsx)(i.c,{index:!0,element:Object(U.jsx)(ze,{productType:re.TABLET})}),Object(U.jsx)(i.c,{path:":productId",element:Object(U.jsx)(Ze,{})})]}),Object(U.jsxs)(i.c,{path:"accessories",children:[Object(U.jsx)(i.c,{index:!0,element:Object(U.jsx)(ze,{productType:re.ACCESSORY})}),Object(U.jsx)(i.c,{path:":productId",element:Object(U.jsx)(Ze,{})})]}),Object(U.jsx)(i.c,{path:"cart",element:Object(U.jsx)(tt,{})}),Object(U.jsx)(i.c,{path:"favourites",element:Object(U.jsx)(ct,{})}),Object(U.jsx)(i.c,{path:"*",element:Object(U.jsx)(at,{})})]})})})})},rt=document.getElementById("root");r.a.render(Object(U.jsx)(nt,{}),rt)}]),[[80,1,2]]]);
//# sourceMappingURL=main.d447b618.chunk.js.map