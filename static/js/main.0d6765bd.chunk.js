(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(49).concat([function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n,a=c(25),r=c.n(a),s=c(6),i=c(3),o=c(23),l=c(13);!function(e){e[e.IDLE=0]="IDLE",e[e.LOADING=1]="LOADING",e[e.FAILED=2]="FAILED"}(n||(n={}));var u="https://mate-academy.github.io/react_phone-catalog/api/products";function d(e){return new Promise((function(t){setTimeout(t,e)}))}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={method:t};return c&&(n.body=JSON.stringify(c),n.headers={"Content-Type":"application/json; charset=UTF-8"}),d(300).then((function(){return fetch(u+e,n)})).then((function(e){return e.json()}))}var b,m=function(e){return j(e)},O={products:[],status:n.IDLE},h=Object(l.b)("products/fetch",(function(){return m(".json")})),p=Object(l.c)({name:"products",initialState:O,reducers:{},extraReducers:function(e){e.addCase(h.pending,(function(e){e.status=n.LOADING})).addCase(h.fulfilled,(function(e,t){e.status=n.IDLE,e.products=t.payload})).addCase(h.rejected,(function(e){e.status=n.FAILED}))}}),f=(p.actions,p.reducer),x={productDetails:null,status:n.IDLE},N=Object(l.b)("productDetails/fetch",(function(e){return m("/".concat(e,".json"))})),v=Object(l.c)({name:"productDetails",initialState:x,reducers:{},extraReducers:function(e){e.addCase(N.pending,(function(e){e.status=n.LOADING})).addCase(N.fulfilled,(function(e,t){e.status=n.IDLE,e.productDetails=t.payload})).addCase(N.rejected,(function(e){e.status=n.FAILED}))}}),g=(v.actions,v.reducer),P=c(12),I=c(11),y=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},C="CART_ITEMS",T={cartItems:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}(C)},S=Object(l.c)({name:"cartItems",initialState:T,reducers:{addToCart:function(e,t){e.cartItems=[].concat(Object(I.a)(e.cartItems),[t.payload]),y(C,e.cartItems)},removeFromCart:function(e,t){e.cartItems=e.cartItems.filter((function(e){return e.id!==t.payload})),y(C,e.cartItems)},plusProduct:function(e,t){e.cartItems=e.cartItems.map((function(e){return e.id===t.payload?Object(P.a)(Object(P.a)({},e),{},{quantity:e.quantity+1}):e})),y(C,e.cartItems)},minusProduct:function(e,t){e.cartItems=e.cartItems.map((function(e){return e.id===t.payload?Object(P.a)(Object(P.a)({},e),{},{quantity:e.quantity-1}):e})),y(C,e.cartItems)}}}),D=S.actions,L=D.addToCart,E=D.removeFromCart,k=D.plusProduct,A=D.minusProduct,_=S.reducer,w=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},B="FAVOURITE_ITEMS",M={favouriteItems:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}(B)},F=Object(l.c)({name:"favouriteItems",initialState:M,reducers:{addToFavourites:function(e,t){e.favouriteItems=[].concat(Object(I.a)(e.favouriteItems),[t.payload]),w(B,e.favouriteItems)},removeFromFavourites:function(e,t){e.favouriteItems=e.favouriteItems.filter((function(e){return e.id!==t.payload})),w(B,e.favouriteItems)}}}),R=F.actions,q=R.addToFavourites,H=R.removeFromFavourites,G=F.reducer,X=Object(l.a)({reducer:{products:f,productDetails:g,cartItems:_,favouriteItems:G}}),Y=c(1),V=function(){return Object(o.b)()},J=o.c;!function(e){e[e.TEXT=0]="TEXT",e[e.HEART=1]="HEART",e[e.CART=2]="CART"}(b||(b={}));var $=c.p+"static/media/logo.c9417692.svg",z=(c(49),c(0)),U=function(){return Object(z.jsx)(s.b,{to:"/home",className:"Logo",children:Object(z.jsx)("img",{src:$,alt:"Logo",width:40,height:24})})},W=c(31),Q=c(8),K=c.n(Q),Z=(c(52),["linkType","children"]),ee=function(e){var t=e.linkType,c=e.children,n=Object(W.a)(e,Z);return Object(z.jsx)(s.c,Object(P.a)(Object(P.a)({},n),{},{className:function(e){var c=e.isActive;return K()("PageLink",{PageLink_text:t===b.TEXT},{PageLink_heart:t===b.HEART},{PageLink_cart:t===b.CART},{PageLink_active:c})},children:c}))},te=(c(53),function(){return Object(z.jsx)("nav",{className:"Nav",children:Object(z.jsxs)("ul",{className:"Nav-List",children:[Object(z.jsx)("li",{className:"Nav-Item",children:Object(z.jsx)(ee,{to:"/",linkType:b.TEXT,children:"home"})}),Object(z.jsx)("li",{className:"Nav-Item",children:Object(z.jsx)(ee,{to:"/phones",linkType:b.TEXT,children:"phones"})}),Object(z.jsx)("li",{className:"Nav-Item",children:Object(z.jsx)(ee,{to:"/tablets",linkType:b.TEXT,children:"tablets"})}),Object(z.jsx)("li",{className:"Nav-Item",children:Object(z.jsx)(ee,{to:"/accessories",linkType:b.TEXT,children:"accessories"})})]})})}),ce=(c(54),function(e){var t=e.quantity;return Object(z.jsx)("div",{className:K()("Counter",{Counter_active:t>0}),children:t})}),ne=c(4);function ae(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(ne.a)(e,2),n=t[0],a=t[1];null===a?c.delete(n):Array.isArray(a)?(c.delete(n),a.forEach((function(e){c.append(n,e)}))):c.set(n,a)})),c.toString()}c(55);var re,se=function(){var e=Object(s.d)(),t=Object(ne.a)(e,2),c=t[0],n=t[1],a=c.get("query")||"",r=Object(Y.useState)(a),o=Object(ne.a)(r,2),l=o[0],u=o[1],d=Object(i.o)(),j=Object(Y.useMemo)((function(){return d.pathname.split("/").filter((function(e){return""!==e}))}),[d]);Object(Y.useEffect)((function(){u(a)}),[j]);var b=Object(Y.useCallback)(function(e,t){var c=0;return function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];window.clearTimeout(c),c=window.setTimeout((function(){e.apply(void 0,a)}),t)}}(n,600),[j]);return Object(z.jsxs)("div",{className:"Header-Search Search",children:[Object(z.jsx)("input",{className:K()("Search-Input",{"Search-Input_icon_search":""===l}),type:"text",placeholder:"Search in ".concat(j," ..."),value:l,onChange:function(e){var t=e.target.value;u(t),b(ae(c,{query:t||null,page:"1"}))}}),Object(z.jsx)("button",{className:K()("Search-ClearButton",{"Search-ClearButton_active":""!==l}),type:"button","data-cy":"searchDelete","aria-label":"clear",onClick:function(){u(""),n(ae(c,{query:null}))}})]})},ie=(c(56),["/phones","/tablets","/accessories","/favourites"]),oe=function(){var e=J((function(e){return e.cartItems})).cartItems,t=Object(Y.useMemo)((function(){return e.reduce((function(e,t){return e+t.quantity}),0)}),[e]),c=J((function(e){return e.favouriteItems})).favouriteItems,n=Object(Y.useMemo)((function(){return c.length}),[c]),a=Object(i.o)(),r=Object(Y.useMemo)((function(){return"/cart"===a.pathname}),[a]),s=Object(Y.useMemo)((function(){return ie.some((function(e){return e===a.pathname}))}),[a]);return Object(z.jsxs)("header",{className:"Page-Header Header",children:[Object(z.jsxs)("div",{className:"Header-Left",children:[Object(z.jsx)(U,{}),Object(z.jsx)(te,{})]}),Object(z.jsxs)("div",{className:"Header-Right",children:[s&&Object(z.jsx)(se,{}),!r&&Object(z.jsx)(ee,{to:"/favourites",linkType:b.HEART,children:Object(z.jsx)(ce,{quantity:n})}),Object(z.jsx)(ee,{to:"/cart",linkType:b.CART,children:Object(z.jsx)(ce,{quantity:t})})]})]})},le=(c(57),function(){return Object(z.jsx)("footer",{className:"Page-Footer Footer",children:Object(z.jsx)("div",{className:"Container",children:Object(z.jsxs)("div",{className:"Footer-Content",children:[Object(z.jsx)(U,{}),Object(z.jsx)("nav",{className:"Footer-Nav",children:Object(z.jsxs)("ul",{className:"Footer-List",children:[Object(z.jsx)("li",{children:Object(z.jsx)("a",{className:"Footer-Link",rel:"noreferrer",target:"_blank",href:"https://github.com/yuran007",children:"github"})}),Object(z.jsx)("li",{children:Object(z.jsx)("a",{className:"Footer-Link",rel:"noreferrer",target:"_blank",href:"https://github.com/yuran007",children:"contacts"})}),Object(z.jsx)("li",{children:Object(z.jsx)("a",{className:"Footer-Link",rel:"noreferrer",target:"_blank",href:"https://github.com/yuran007",children:"rights"})})]})}),Object(z.jsx)("button",{className:"Footer-Button",type:"button",onClick:function(){return window.scrollTo(0,0)},children:"Back\xa0to\xa0top"})]})})})}),ue=(c(58),function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(oe,{}),Object(z.jsx)("main",{className:"Page-Main",children:Object(z.jsx)("div",{className:"Container",children:Object(z.jsx)(i.b,{})})}),Object(z.jsx)(le,{})]})}),de=function(e){var t=e.price;return t-e.discount*(t/100)},je=(c(59),function(e){var t=e.product,c=V(),n=J((function(e){return e.cartItems})).cartItems,a=Object(Y.useMemo)((function(){return n.some((function(e){return e.id===t.id}))}),[n]),r=J((function(e){return e.favouriteItems})).favouriteItems,i=Object(Y.useMemo)((function(){return r.some((function(e){return e.id===t.id}))}),[r]),o=t.imageUrl,l=t.name,u=t.price,d=t.screen,j=t.capacity,b=t.ram,m=t.id,O=t.type,h=Object(Y.useMemo)((function(){return de(t)}),[t]),p="/".concat(O,"s/").concat(m);return Object(z.jsxs)("article",{className:"ProductCard",children:[Object(z.jsx)("div",{className:"ProductCard-ImgContainer",children:Object(z.jsx)(s.b,{to:p,children:Object(z.jsx)("img",{className:"ProductCard-Img",src:o,alt:"ProductCard",width:208,height:208,loading:"eager",decoding:"async"})})}),Object(z.jsxs)("div",{className:"ProductCard-Content",children:[Object(z.jsx)(s.b,{to:p,children:Object(z.jsx)("h2",{className:"ProductCard-Title",children:l})}),Object(z.jsxs)("div",{className:"ProductCard-Prices",children:[Object(z.jsx)("span",{className:"ProductCard-DiscountPrice",children:"$".concat(h)}),h!==u&&Object(z.jsx)("span",{className:"ProductCard-Price",children:"$".concat(u)})]}),Object(z.jsx)("hr",{className:"ProductCard-Break"}),Object(z.jsxs)("div",{className:"ProductCard-Specs",children:[Object(z.jsxs)("div",{className:"ProductCard-Spec",children:[Object(z.jsx)("span",{className:"ProductCard-SpecText",children:"Screen"}),Object(z.jsx)("span",{className:"ProductCard-SpecValue",children:d})]}),Object(z.jsxs)("div",{className:"ProductCard-Spec",children:[Object(z.jsx)("span",{className:"ProductCard-SpecText",children:"Capacity"}),Object(z.jsx)("span",{className:"ProductCard-SpecValue",children:j})]}),Object(z.jsxs)("div",{className:"ProductCard-Spec",children:[Object(z.jsx)("span",{className:"ProductCard-SpecText",children:"RAM"}),Object(z.jsx)("span",{className:"ProductCard-SpecValue",children:b})]})]}),Object(z.jsxs)("div",{className:"ProductCard-Buttons",children:[Object(z.jsx)("button",{className:K()("ProductCard-Button","Button",{Button_in_cart:a}),type:"button",disabled:a,onClick:function(){return c(L({id:t.id,product:t,quantity:1}))},children:a?"Added to cart":"Add to cart"}),Object(z.jsx)("button",{className:K()("ProductCard-Icon Icon",{Icon_heart:!i,Icon_heart_in_favoutites:i}),type:"button","aria-label":"Heart",onClick:function(){c(i?H(t.id):q(t))}})]})]})]})}),be=(c(60),1152),me=function(e){var t=e.products,c=e.title,n=Object(Y.useState)(0),a=Object(ne.a)(n,2),r=a[0],s=a[1],i=Object(Y.useMemo)((function(){return Math.floor(-1152*(t.length/4-1))}),[t]),o=Object(Y.useMemo)((function(){return 272*t.length+16*(t.length-1)}),[t]),l={width:"".concat(o,"px"),transform:"TranslateX(".concat(r,"px)")};return Object(z.jsxs)("div",{className:"ProductsSlider",children:[Object(z.jsxs)("div",{className:"ProductsSlider-Top",children:[Object(z.jsx)("h2",{className:"ProductsSlider-Title SectionTitle",children:c}),Object(z.jsx)("button",{className:"ProductsSlider-Icon Icon Icon_arrow Icon_arrow_left",type:"button","aria-label":"Arrow left",onClick:function(){s((function(e){return Math.min(e+be,0)}))},disabled:0===r}),Object(z.jsx)("button",{className:"ProductsSlider-Icon Icon Icon_arrow",type:"button","aria-label":"Arrow Right",onClick:function(){s((function(e){return Math.max(e-be,i)}))},disabled:r===i})]}),Object(z.jsx)("div",{className:"ProductsSlider-Window",children:Object(z.jsx)("div",{className:"ProductsSlider-Slides","data-cy":"cardsContainer",style:l,children:t.map((function(e){return Object(z.jsx)(je,{product:e},e.id)}))})})]})};!function(e){e.PHONE="phone",e.TABLET="tablet",e.ACCESSORY="accessory"}(re||(re={}));var Oe,he=c.p+"static/media/phones.e8ce0c8a.png",pe=c.p+"static/media/tablets.985d7169.png",fe=c.p+"static/media/accessories.ca41c40d.png",xe=function(e){switch(e){case re.PHONE:return{title:"Mobile phones",imgPath:he,linkPath:"/phone"};case re.TABLET:return{title:"Tablets",imgPath:pe,linkPath:"/tablets"};case re.ACCESSORY:return{title:"Accessories",imgPath:fe,linkPath:"/accessories"};default:return{title:"",imgPath:"",linkPath:""}}},Ne=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t)},ve=(c(61),function(e){var t=e.productType,c=J((function(e){return e.products})).products,n=xe(t),a=n.linkPath,r=n.imgPath,i=n.title,o=Object(Y.useMemo)((function(){return function(e,t){return e.filter((function(e){return e.type===t})).length}(c,t)}),[c,t]),l=Ne(o,"model");return Object(z.jsxs)("article",{className:"ShopByCategory-Category Category",children:[Object(z.jsxs)(s.b,{to:a,className:"Category-Link",children:[Object(z.jsx)("div",{className:K()("Category-Container",{"Category-Container_mobile":t===re.PHONE,"Category-Container_tablet":t===re.TABLET,"Category-Container_accessory":t===re.ACCESSORY}),children:Object(z.jsx)("img",{className:"Category-Img",src:r,alt:i,width:368,height:368,loading:"lazy",decoding:"async"})}),Object(z.jsx)("h3",{className:"Category-Title",children:i})]}),Object(z.jsx)("div",{className:"Category-Total Total",children:l})]})}),ge=(c(62),function(){return Object(z.jsxs)("div",{className:"ShopByCategory",children:[Object(z.jsx)("h2",{className:"ShopByCategory-Title SectionTitle",children:"Shop by category"}),Object(z.jsxs)("div",{className:"ShopByCategory-Content","data-cy":"categoryLinksContainer",children:[Object(z.jsx)(ve,{productType:re.PHONE}),Object(z.jsx)(ve,{productType:re.TABLET}),Object(z.jsx)(ve,{productType:re.ACCESSORY})]})]})}),Pe=c.p+"static/media/banner-phones.b4eeda8b.png",Ie=c.p+"static/media/banner-tablets.a962057c.png",ye=c.p+"static/media/banner-accessories.bdd2e0fc.png",Ce=(c(63),1040),Te=Ce,Se=function(){var e=Object(Y.useState)(0),t=Object(ne.a)(e,2),c=t[0],n=t[1],a=0===c,r=-2080===c,i=function(){n((function(e){return r?0:e-Te}))},o=function(e){return Math.abs(c/Te)===e};return Object(Y.useEffect)((function(){var e=window.setInterval((function(){i()}),5e3);return function(){window.clearInterval(e)}}),[c]),Object(z.jsxs)("div",{className:"Slider",children:[Object(z.jsxs)("div",{className:"Slider-Content",children:[Object(z.jsx)("button",{className:"Slider-Icon Icon Icon_arrow Icon_arrow_left",type:"button","aria-label":"Arrow Left",onClick:function(){n((function(e){return a?-2080:e+Te}))}}),Object(z.jsx)("div",{className:"Slider-Window",children:Object(z.jsxs)("div",{className:"Slider-Slides",style:{transform:"TranslateX(".concat(c,"px)")},children:[Object(z.jsx)(s.b,{to:"/phones",children:Object(z.jsx)("img",{className:"Slider-Slide",src:Pe,alt:"Slider banner",width:Ce,height:400,loading:"lazy",decoding:"async"})}),Object(z.jsx)(s.b,{to:"/tablets",children:Object(z.jsx)("img",{className:"Slider-Slide",src:Ie,alt:"Slider banner",width:Ce,height:400,loading:"lazy",decoding:"async"})}),Object(z.jsx)(s.b,{to:"/accessories",children:Object(z.jsx)("img",{className:"Slider-Slide",src:ye,alt:"Slider banner",width:Ce,height:400,loading:"lazy",decoding:"async"})})]})}),Object(z.jsx)("button",{className:"Slider-Icon Icon Icon_arrow",type:"button","aria-label":"Arrow right",onClick:i})]}),Object(z.jsx)("div",{className:"Slider-Dots",children:[0,1,2].map((function(e){return Object(z.jsx)("span",{className:K()("Slider-Dot",{"Slider-Dot_active":o(e)}),onClick:function(){n(-e*Te)}},e)}))})]})},De=function(){var e=V(),t=J((function(e){return e.products})).products;Object(Y.useEffect)((function(){e(h())}),[]);var c=Object(Y.useMemo)((function(){return t.filter((function(e){return 0!==e.discount})).sort((function(e,t){return de(e)-de(t)}))}),[t]),n=Object(Y.useMemo)((function(){return t.filter((function(e){return 0===e.discount})).sort((function(e,t){return e.price-t.price}))}),[t]);return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("section",{className:"Page-Slider",children:Object(z.jsx)(Se,{})}),Object(z.jsx)("section",{className:"Page-HotPrice",children:Object(z.jsx)(me,{products:c,title:"Hot prices"})}),Object(z.jsx)("section",{className:"Page-ShopByCategory",children:Object(z.jsx)(ge,{})}),Object(z.jsx)("section",{className:"Page-BrandNew",children:Object(z.jsx)(me,{products:n,title:"Brand new models"})})]})};!function(e){e.AGE="age",e.NAME="name",e.PRICE="price"}(Oe||(Oe={}));var Le=c(7),Ee=(c(64),function(e){var t=e.options,c=e.label,n=e.searchParamName,a=Object(Y.useState)(!1),r=Object(ne.a)(a,2),i=r[0],o=r[1],l=Object(s.d)(),u=Object(ne.a)(l,2),d=u[0],j=u[1],b=d.get(n)||t[0].label,m=function(e,t){var c;return null===(c=t.find((function(t){return t.value===e})))||void 0===c?void 0:c.label}(b,t)||b;return Object(Y.useEffect)((function(){if(i){var e=function(){o(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}}),[i]),Object(z.jsxs)("div",{className:"DropDown",children:[Object(z.jsx)("span",{className:"DropDown-Label",children:c}),Object(z.jsxs)("button",{type:"button",className:K()("DropDown-Button",{"DropDown-Button_active":i}),onClick:function(){return o((function(e){return!e}))},children:[m,Object(z.jsx)("span",{className:K()("DropDown-Icon Icon Icon_arrow",{Icon_arrow_down:!i,Icon_arrow_up:i})})]}),Object(z.jsx)("ul",{className:K()("DropDown-List",{"DropDown-List_active":i}),children:t.map((function(e){return Object(z.jsx)("li",{children:Object(z.jsx)("button",{type:"button",className:"DropDown-Option",onClick:function(){return function(e){var t,c=(t={},Object(Le.a)(t,n,e.value),Object(Le.a)(t,"page","1"),t);j(ae(d,c)),o(!1)}(e)},children:e.label})},e.label)}))})]})}),ke=(c(65),[{label:"Newest",value:Oe.AGE},{label:"Alphabetically",value:Oe.NAME},{label:"Cheapest",value:Oe.PRICE}]),Ae=[{label:"All",value:"all"},{label:"16",value:"16"},{label:"8",value:"8"},{label:"4",value:"4"}],_e=function(){return Object(z.jsxs)("div",{className:"ProductListFilter",children:[Object(z.jsx)(Ee,{options:ke,label:"Sort by",searchParamName:"sort"}),Object(z.jsx)(Ee,{options:Ae,label:"Items on page",searchParamName:"perPage"})]})},we=(c(66),function(e){var t=e.products;return Object(z.jsx)("div",{className:"ProductList","data-cy":"productList",children:t.map((function(e){return Object(z.jsx)(je,{product:e},e.id)}))})}),Be=(c(67),function(){return Object(z.jsx)("div",{className:"Loader","data-cy":"Loader",children:Object(z.jsx)("div",{className:"Loader__content"})})}),Me=["children","params"],Fe=function(e){var t=e.children,c=e.params,n=Object(W.a)(e,Me),a=Object(s.d)(),r=Object(ne.a)(a,1)[0];return Object(z.jsx)(s.b,Object(P.a)(Object(P.a)({to:{search:ae(r,c)}},n),{},{children:t}))};c(68);var Re=function(e){var t=e.total,c=e.perPage,n=e.currentPage,a=Object(Y.useMemo)((function(){return Math.ceil(t/c)}),[t,c]),r=Object(Y.useMemo)((function(){return function(e,t){for(var c=[],n=e;n<=t;n+=1)c.push(n);return c}(1,a)}),[a]);return Object(z.jsxs)("div",{className:"Pagination","data-cy":"pagination",children:[Object(z.jsx)("div",{className:K()("Icon","Icon_arrow","Icon_arrow_left",{Icon_arrow_disabled:1===n}),children:Object(z.jsx)(Fe,{className:"Pagination-Link","data-cy":"paginationLeft","aria-label":"pagination-left",params:{page:"".concat(n-1)}})}),Object(z.jsx)("ul",{className:"Pagination-List",children:r.map((function(e){return Object(z.jsx)("li",{className:K()("Pagination-Item",{"Pagination-Item_active":n===e}),children:Object(z.jsx)(Fe,{className:"Pagination-Link",params:{page:"".concat(e)},children:e})},e)}))}),Object(z.jsx)("div",{className:K()("Icon","Icon_arrow",{Icon_arrow_disabled:n===a}),children:Object(z.jsx)(Fe,{className:"Pagination-Link","data-cy":"paginationRight","aria-label":"pagination-right",params:{page:"".concat(n+1)}})})]})},qe=(c(69),function(e){var t,c=e.productType,n=(t={},Object(Le.a)(t,re.PHONE,"Mobile phones"),Object(Le.a)(t,re.TABLET,"Tablets"),Object(Le.a)(t,re.ACCESSORY,"Accessories"),t);return Object(z.jsx)("section",{className:"Page-NoResults NoResults",children:"".concat(n[c]," not found")})}),He=(c(70),function(e){var t,c=e.productType,n=(t={},Object(Le.a)(t,re.PHONE,"Mobile phones"),Object(Le.a)(t,re.TABLET,"Tablets"),Object(Le.a)(t,re.ACCESSORY,"Accessories"),t);return Object(z.jsx)("section",{className:"Page-NoResults NoResults",children:"Not found ".concat(n[c]," matching the query.")})}),Ge=function(e,t){return e.name.toLowerCase().includes(t.toLowerCase())},Xe=function(e,t){var c=Object(s.d)(),n=Object(ne.a)(c,1)[0].get("query")||"",a=function(e,t){return Object(Y.useMemo)((function(){return e.filter((function(e){return e.type===t}))}),[e,t])}(e,t);return Object(Y.useMemo)((function(){return n?a.filter((function(e){return Ge(e,n)})):a}),[a,n])},Ye=function(e,t){var c=Object(s.d)(),n=Object(ne.a)(c,1)[0].get("sort")||"",a=Xe(e,t);return Object(Y.useMemo)((function(){return n?Object(I.a)(a).sort((function(e,t){return function(e,t,c){switch(c){case Oe.AGE:return e.age-t.age;case Oe.PRICE:return de(e)-de(t);case Oe.NAME:return e.name.localeCompare(t.name);default:return 0}}(e,t,n)})):a}),[a,n])},Ve=function(e,t){var c=Ye(e,t),n=Object(s.d)(),a=Object(ne.a)(n,1)[0].get("perPage")||"";return Object(Y.useMemo)((function(){return Number(a)||c.length}),[a,c])},Je=(c(71),function(){var e=Object(i.o)(),t="",c=Object(Y.useMemo)((function(){return e.pathname.split("/").filter((function(e){return""!==e})).map((function(e,c,n){return t+="/".concat(e),Object(z.jsx)("li",{className:"Breadcrumbs-Item",children:c!==n.length-1?Object(z.jsx)(s.b,{className:"Breadcrumbs-Link",to:t,children:e}):e},e)}))}),[e]);return Object(z.jsx)("div",{className:"Breadcrumbs","data-cy":"breadCrumbs",children:Object(z.jsxs)("ul",{className:"Breadcrumbs-List",children:[Object(z.jsx)("li",{className:"Breadcrumbs-Item",children:Object(z.jsx)(s.b,{className:"Breadcrumbs-Icon Icon Icon_home",to:"/home"})},"homePath"),c.map((function(e){return e}))]})})}),$e=(c(72),function(e){var t=e.productType,c=V(),a=Object(s.d)(),r=Object(ne.a)(a,1)[0],i=r.get("query")||"",o=Number(r.get("page"))||1,l=J((function(e){return e.products})),u=l.products,d=l.status;Object(Y.useEffect)((function(){c(h())}),[]);var j=Ye(u,t),b=Object(Y.useMemo)((function(){return j.length}),[j]),m=Object(Y.useMemo)((function(){return 0===j.length}),[j]),O=Object(Y.useMemo)((function(){return""===i}),[i]),p=Ve(u,t),f=function(e,t){var c=Ye(e,t),n=Ve(e,t),a=Object(s.d)(),r=Object(ne.a)(a,1)[0],i=Number(r.get("page"))||1,o=Object(Y.useMemo)((function(){return(i-1)*n}),[i,n]),l=Object(Y.useMemo)((function(){var e=c.length;return Math.min(i*n,e)}),[i,n,c]);return Object(Y.useMemo)((function(){return c.filter((function(e,t){return t>=o&&t<l}))}),[c,o,l])}(u,t),x=Ne(b,"model"),N=Ne(b,"result"),v=xe(t).title;return Object(z.jsxs)("section",{className:"Page-Products Products",children:[Object(z.jsx)(Je,{}),Object(z.jsx)("h1",{className:"Products-Title SectionTitle",children:v}),Object(z.jsx)("div",{className:"Products-Total Total",children:d===n.IDLE&&(i?N:x)}),d===n.LOADING&&Object(z.jsx)(Be,{}),d===n.IDLE&&m&&(O?Object(z.jsx)(qe,{productType:t}):Object(z.jsx)(He,{productType:t})),d===n.IDLE&&!m&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(_e,{}),Object(z.jsx)(we,{products:f}),b>=p&&Object(z.jsx)(Re,{total:b,perPage:p,currentPage:o})]})]})}),ze=(c(73),function(){var e=Object(i.q)();return Object(z.jsxs)("button",{className:"BackButton",type:"button",onClick:function(){return e(-1)},children:[Object(z.jsx)("span",{className:"BackButton-Icon Icon Icon_arrow Icon_arrow_left"}),"Back"]})}),Ue=(c(74),["#fcdbc1","#5f7170","#4c4c4c","#f0f0f0"]),We=[64,256,512],Qe=function(){var e=Object(Y.useState)(0),t=Object(ne.a)(e,2),c=t[0],a=t[1],r=Object(Y.useState)(0),s=Object(ne.a)(r,2),o=s[0],l=s[1],u=Object(Y.useState)(0),d=Object(ne.a)(u,2),j=d[0],b=d[1],m=V(),O=J((function(e){return e.products})),p=O.products,f=O.status;Object(Y.useEffect)((function(){m(h())}),[]);var x=J((function(e){return e.productDetails})),v=x.productDetails,g=x.status,P=Object(i.s)().productId;Object(Y.useEffect)((function(){P&&m(N(P))}),[P]);var I=Object(Y.useMemo)((function(){return p.find((function(e){return e.id===P}))}),[p,P]),y=Object(Y.useMemo)((function(){return I?de(I):0}),[I]),C=Object(Y.useMemo)((function(){return p.filter((function(e,t){return t>=4&&t<16}))}),[p]),T=J((function(e){return e.cartItems})).cartItems,S=Object(Y.useMemo)((function(){return T.some((function(e){return e.id===P}))}),[T,I]),D=J((function(e){return e.favouriteItems})).favouriteItems,E=Object(Y.useMemo)((function(){return D.some((function(e){return e.id===P}))}),[D]);return Object(z.jsxs)(z.Fragment,{children:[(g===n.LOADING||f===n.LOADING)&&Object(z.jsx)(Be,{}),g===n.FAILED&&f===n.IDLE&&Object(z.jsx)("h1",{className:"ProductDetail-SectionTitle SectionTitle",children:"Product was not found"}),g===n.IDLE&&f===n.IDLE&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Je,{}),Object(z.jsx)(ze,{}),Object(z.jsxs)("section",{className:"Page-Section ProductDetail",children:[Object(z.jsx)("h1",{className:"ProductDetail-SectionTitle SectionTitle",children:null===v||void 0===v?void 0:v.name}),Object(z.jsx)("aside",{className:"ProductDetail-ImagesContainer",children:Object(z.jsx)("ul",{className:"ProductDetail-ImgList",children:null===v||void 0===v?void 0:v.images.map((function(e,t){return Object(z.jsx)("li",{className:"ProductDetail-ListItem",children:Object(z.jsx)("button",{type:"button",className:K()("ProductDetail-ImgButton",{"ProductDetail-ImgButton_active":c===t}),onClick:function(){return a(t)},children:Object(z.jsx)("img",{className:"ProductDetail-ImgSmall",src:e,alt:"product small",width:"80",height:"78"})})},e)}))})}),Object(z.jsx)("img",{className:"ProductDetail-Img",src:null===v||void 0===v?void 0:v.images[c],alt:"product",width:"464"}),Object(z.jsxs)("div",{className:"ProductDetail-Right",children:[Object(z.jsxs)("div",{className:"ProductDetail-Colors",children:[Object(z.jsx)("span",{className:"ProductDetail-SelectLabel",children:"Available colors"}),Object(z.jsx)("ul",{className:"ProductDetail-SelectList",children:Ue.map((function(e,t){return Object(z.jsx)("li",{className:"ProductDetail-ColorItem",children:Object(z.jsx)("button",{className:K()("ProductDetail-ColorButton",{"ProductDetail-ColorButton_active":o===t}),type:"button",onClick:function(){return l(t)},children:Object(z.jsx)("span",{className:"ProductDetail-ColorCircle",style:{backgroundColor:e}})})},e)}))}),Object(z.jsx)("hr",{className:"ProductDetail-Break"})]}),Object(z.jsxs)("div",{className:"ProductDetail-Capacities",children:[Object(z.jsx)("span",{className:"ProductDetail-SelectLabel",children:"Select capacity"}),Object(z.jsx)("ul",{className:"ProductDetail-SelectList",children:We.map((function(e,t){return Object(z.jsx)("li",{className:"ProductDetail-CapacityItem",children:Object(z.jsx)("button",{className:K()("ProductDetail-CapacityButton",{"ProductDetail-CapacityButton_active":j===t}),type:"button",onClick:function(){return b(t)},children:"".concat(e," GB")})},e)}))}),Object(z.jsx)("hr",{className:"ProductDetail-Break"})]}),Object(z.jsxs)("div",{className:"ProductDetail-Prices",children:[Object(z.jsx)("span",{className:"ProductDetail-DiscountPrice",children:"$".concat(y)}),I&&y!==I.price&&Object(z.jsx)("span",{className:"ProductDetail-Price",children:"$".concat(I.price)})]}),Object(z.jsxs)("div",{className:"ProductDetail-Buttons",children:[Object(z.jsx)("button",{className:K()("ProductDetail-Button","Button",{Button_in_cart:S}),type:"button",disabled:S,onClick:function(){return m(L({id:I.id,product:I,quantity:1}))},children:S?"Added to cart":"Add to cart"}),Object(z.jsx)("button",{className:K()("ProductDetail-Icon Icon",{Icon_heart:!E,Icon_heart_in_favoutites:E}),type:"button","aria-label":"Heart",onClick:function(){m(P&&E?H(P):q(I))}})]}),Object(z.jsxs)("div",{className:"ProductDetail-Specs",children:[Object(z.jsxs)("div",{className:"ProductDetail-Spec",children:[Object(z.jsx)("span",{className:"ProductDetail-Label",children:"Screen"}),Object(z.jsx)("span",{className:"ProductDetail-Value",children:null===v||void 0===v?void 0:v.display.screenSize})]}),Object(z.jsxs)("div",{className:"ProductDetail-Spec",children:[Object(z.jsx)("span",{className:"ProductDetail-Label",children:"Resolution"}),Object(z.jsx)("span",{className:"ProductDetail-Value",children:null===v||void 0===v?void 0:v.display.screenResolution})]}),Object(z.jsxs)("div",{className:"ProductDetail-Spec",children:[Object(z.jsx)("span",{className:"ProductDetail-Label",children:"Processor"}),Object(z.jsx)("span",{className:"ProductDetail-Value",children:null===v||void 0===v?void 0:v.hardware.cpu})]}),Object(z.jsxs)("div",{className:"ProductDetail-Spec",children:[Object(z.jsx)("span",{className:"ProductDetail-Label",children:"RAM"}),Object(z.jsx)("span",{className:"ProductDetail-Value",children:null===v||void 0===v?void 0:v.storage.ram})]})]})]}),Object(z.jsxs)("div",{className:"ProductDetail-About","data-cy":"productDescription",children:[Object(z.jsx)("span",{className:"ProductDetail-AboutTitle",children:"About"}),Object(z.jsx)("hr",{className:"ProductDetail-Break"}),Object(z.jsx)("div",{className:"ProductDetail-AboutDescription",children:null===v||void 0===v?void 0:v.description})]}),Object(z.jsxs)("div",{className:"ProductDetail-Tech",children:[Object(z.jsx)("span",{className:"ProductDetail-TechTitle",children:"Tech specs"}),Object(z.jsx)("hr",{className:"ProductDetail-Break"}),Object(z.jsxs)("div",{className:"ProductDetail-TechSpecs",children:[Object(z.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(z.jsx)("span",{className:"ProductDetail-TechLabel",children:"Screen"}),null===v||void 0===v?void 0:v.display.screenSize]}),Object(z.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(z.jsx)("span",{className:"ProductDetail-TechLabel",children:"Resolution"}),null===v||void 0===v?void 0:v.display.screenResolution]}),Object(z.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(z.jsx)("span",{className:"ProductDetail-TechLabel",children:"Processor"}),null===v||void 0===v?void 0:v.hardware.cpu]}),Object(z.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(z.jsx)("span",{className:"ProductDetail-TechLabel",children:"RAM"}),null===v||void 0===v?void 0:v.storage.ram]}),Object(z.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(z.jsx)("span",{className:"ProductDetail-TechLabel",children:"Built in memory"}),null===v||void 0===v?void 0:v.storage.flash]}),Object(z.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(z.jsx)("span",{className:"ProductDetail-TechLabel",children:"Camera"}),null===v||void 0===v?void 0:v.camera.primary]}),Object(z.jsxs)("div",{className:"ProductDetail-TechSpec",children:[Object(z.jsx)("span",{className:"ProductDetail-TechLabel",children:"Battery standby time"}),null===v||void 0===v?void 0:v.battery.standbyTime]})]})]})]}),Object(z.jsx)("section",{className:"Page-Section",children:Object(z.jsx)(me,{products:C,title:"You may also like"})})]})]})},Ke=(c(75),function(e){var t=e.cartItem,c=V(),n=t.id,a=t.product,r=t.quantity,i=a.type,o=a.id,l="/".concat(i,"s/").concat(o),u=Object(Y.useMemo)((function(){return de(a)}),[a]);return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"CartItem-Left",children:[Object(z.jsx)("button",{className:"CartItem-IconDelete Icon Icon_delete","data-cy":"cartDeleteButton",type:"button","aria-label":"delete button",onClick:function(){return c(E(n))}}),Object(z.jsx)(s.b,{className:"CartItem-LinkImage",to:l,children:Object(z.jsx)("img",{className:"CartItem-Image",src:a.imageUrl,width:66,height:66,alt:"product"})}),Object(z.jsx)(s.b,{className:"CartItem-LinkTitle",to:l,children:Object(z.jsx)("h2",{className:"CartItem-CartTitle",children:a.name})})]}),Object(z.jsxs)("div",{className:"CartItem-Right",children:[Object(z.jsxs)("div",{className:"CartItem-Counter",children:[Object(z.jsx)("button",{className:"CartItem-Icon Icon Icon_minus",type:"button","aria-label":"minus button",disabled:1===r,onClick:function(){return c(A(n))}}),Object(z.jsx)("span",{className:"CartItem-Total",children:r}),Object(z.jsx)("button",{className:"CartItem-Icon Icon Icon_plus",type:"button","aria-label":"plus button",onClick:function(){return c(k(n))}})]}),Object(z.jsx)("span",{className:"CartItem-Price",children:u!==a.price?"$".concat(u*r):"$".concat(a.price*r)})]})]})}),Ze=(c(76),function(){var e=Object(Y.useState)(!1),t=Object(ne.a)(e,2),c=t[0],n=t[1],a=J((function(e){return e.cartItems})).cartItems,r=Object(Y.useMemo)((function(){return 0===a.length}),[a]),s=Object(Y.useMemo)((function(){return a.reduce((function(e,t){return e+(t.product.discount>0?de(t.product):t.product.price)*t.quantity}),0)}),[a]),i=Object(Y.useMemo)((function(){return a.reduce((function(e,t){return e+t.quantity}),0)}),[a]);return Object(z.jsxs)("section",{className:"Page-Cart Cart",children:[Object(z.jsx)(ze,{}),Object(z.jsx)("h1",{className:"Cart-Title SectionTitle",children:"Cart"}),r&&"Your cart is empty",c&&"We are sorry, but this feature is not implemented yet",!c&&!r&&Object(z.jsxs)("div",{className:"Cart-Content",children:[Object(z.jsx)("ul",{className:"Cart-List",children:a.map((function(e){return Object(z.jsx)("li",{className:"Cart-CartItem CartItem",children:Object(z.jsx)(Ke,{cartItem:e})},e.id)}))}),Object(z.jsxs)("div",{className:"Cart-Totals",children:[Object(z.jsx)("span",{className:"Cart-TotalPrice",children:"$".concat(s)}),Object(z.jsx)("span",{className:"Cart-TotalQuantity","data-cy":"productQuantity",children:"Total for ".concat(i," items")}),Object(z.jsx)("hr",{className:"Cart-Break"}),Object(z.jsx)("button",{className:"Cart-Button Button",type:"button",onClick:function(){return n(!0)},children:"Checkout"})]})]})]})}),et=(c(77),function(){var e=function(e){var t=Object(s.d)(),c=Object(ne.a)(t,1)[0].get("query")||"";return Object(Y.useMemo)((function(){return c?e.filter((function(e){return Ge(e,c)})):e}),[e,c])}(J((function(e){return e.favouriteItems})).favouriteItems),t=Object(Y.useMemo)((function(){return e.length}),[e]),c=Object(Y.useMemo)((function(){return 0===e.length}),[e]),n=Ne(t,"model");return Object(z.jsxs)("section",{className:"Page-Favourites Favourites",children:[Object(z.jsx)(Je,{}),Object(z.jsx)("h1",{className:"Favourites-Title SectionTitle",children:"Favourites"}),c?"Your favourites is empty":Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"Favourites-Total Total",children:n}),Object(z.jsx)(we,{products:e})]})]})}),tt=(c(78),function(){return Object(z.jsxs)("section",{className:"Page-Section NotFoundPage",children:[Object(z.jsx)("h1",{className:"NotFoundPage-Title SectionTitle",children:"Page not found"}),Object(z.jsx)(ee,{to:"/",linkType:b.TEXT,children:"home"})]})}),ct=function(){return Object(z.jsx)(o.a,{store:X,children:Object(z.jsx)(s.a,{children:Object(z.jsx)(i.e,{children:Object(z.jsxs)(i.c,{path:"/",element:Object(z.jsx)(ue,{}),children:[Object(z.jsx)(i.c,{index:!0,element:Object(z.jsx)(De,{})}),Object(z.jsx)(i.c,{path:"home",element:Object(z.jsx)(i.a,{to:"/",replace:!0})}),Object(z.jsxs)(i.c,{path:"phones",children:[Object(z.jsx)(i.c,{index:!0,element:Object(z.jsx)($e,{productType:re.PHONE})}),Object(z.jsx)(i.c,{path:":productId",element:Object(z.jsx)(Qe,{})})]}),Object(z.jsxs)(i.c,{path:"tablets",children:[Object(z.jsx)(i.c,{index:!0,element:Object(z.jsx)($e,{productType:re.TABLET})}),Object(z.jsx)(i.c,{path:":productId",element:Object(z.jsx)(Qe,{})})]}),Object(z.jsxs)(i.c,{path:"accessories",children:[Object(z.jsx)(i.c,{index:!0,element:Object(z.jsx)($e,{productType:re.ACCESSORY})}),Object(z.jsx)(i.c,{path:":productId",element:Object(z.jsx)(Qe,{})})]}),Object(z.jsx)(i.c,{path:"cart",element:Object(z.jsx)(Ze,{})}),Object(z.jsx)(i.c,{path:"favourites",element:Object(z.jsx)(et,{})}),Object(z.jsx)(i.c,{path:"*",element:Object(z.jsx)(tt,{})})]})})})})},nt=document.getElementById("root");r.a.render(Object(z.jsx)(ct,{}),nt)}]),[[79,1,2]]]);
//# sourceMappingURL=main.0d6765bd.chunk.js.map